<html>

<head>
  <partial src="head.html"></partial>
  <title>openHAB - Empowering the smart home</title>
</head>

<body>
  <nav></nav>
  <partial src="mainnav.html"></partial>
  <section class="header">
    <h4>Connect to openHAB Server</h4>
  </section>
  <main>
    <section class="container">
      <div class="card centeredsmallcard">
        <div class="text-center d-none credentials">
          <h4 class="text-dark">Authenticated Login</h4>
          <p class="text-muted">Please enter host, username and password</p>
        </div>
        <div class="text-center hostonly">
          <h4 class="text-dark">openHAB Server</h4>
          <p class="text-muted">Please enter your openHAB network address</p>
        </div>
        <form id="loginform">
          <div class="form-group">
            <label class="w-100">Host<input class="form-control" name="host" id="inputHost" placeholder="Host"></label>
          </div>
          <div class="form-group d-none credentials">
            User credentials
            <label class="w-100"><input type="username" class="form-control" id="inputUsername" placeholder="User name"></label>
            <label class="w-100"></label><input type="password" class="form-control" id="inputPassword" placeholder="Password"></label>
            <div class="my-2">
              <a target="_blank" href="https://www.openhab.org/docs/installation/security.html#authentication-and-access-control">Why
                do I need to enter credentials?</a>
            </div>
          </div>
          <div class="my-2 d-none" id="crossorigin">
            <details class="alert alert-info" role="alert">
              <summary>Your openHAB installation does not allow access from another domain.</summary>
              <p class="mt-2">If you do not use a reverse proxy:<br>
                Please add <q>org.eclipse.smarthome.cors:enable=true</q> to your <code>services.cfg</code> file.
              </p>
              <p>If you do use a reverse proxy (openhabian!):<br>
                Add the following lines to `/etc/nginx/sites-enabled/openhab`:
                <pre>
server {
    add_header 'Access-Control-Allow-Origin' '*';
    add_header 'Access-Control-Allow_Credentials' 'true';
    add_header 'Access-Control-Allow-Headers' 'Authorization,Accept,Origin,DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Content-Range,Range';
    add_header 'Access-Control-Allow-Methods' 'GET,POST,OPTIONS,PUT,DELETE,PATCH';
    ...
}
</pre>
              </p>
            </details>
          </div>
          <button type="submit" class="btn btn-orange w-100">Login</button>
        </form>
      </div>
      </div>
    </section>
  </main>
  <footer></footer>
  <aside></aside>
  <script type="module" src="js/login.js" async></script>
</body>

</html>