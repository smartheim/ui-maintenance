<html>

<head>
  <partial src="head.html"></partial>
  <title>openHAB - Empowering the smart home</title>
  <title>openHAB - Empowering the smart home</title>
  <link rel="prev" href="tutorial-scenes.html" />
  <link rel="next" href="tutorial-control-ui.html" />
  <link rel="parent" href="index.html" />
</head>

<body>
  <link rel="stylesheet" href="css/tutorial.css" type="text/css" />
  <partial src="tutorialnavigation.html"></partial>
  <partial src="mainnav.html"></partial>
  <section class="header">
    <h4>Rules</h4>
  </section>
  <main class="tutorial">
    <nav-breadcrumb></nav-breadcrumb>

    <h4>Rules</h4>
    <p>A Rule consists of a <b>Name</b>, a unique <b>ID</b> and optional <b>Triggers</b>, <b>Conditions</b> and <b>Actions</b>.
      Rules are the fundament for <i>Scenes</i> and <i>Time based actions</i>.</p>

    <img class="tutimage" src="img/tutorial/rules.png">

    <p>A binding or service, installed via the <i>Add-ons</i> screen, might add more Triggers, Conditions or Actions
      to the table.</p>

    <section class="card border-success p-3 mb-2">
      <h5>Triggers</h5>
      <p>
        Defines the events when the Rule will trigger.
        Triggers may have Outputs. You can connect those to Inputs of Conditions and Actions.
      </p>
    </section>

    <details class="mb-4">
      <summary>Some triggers are part of the core installation</summary>
      <table class="table table-striped table-bordered" style="width: initial">
        <thead>
          <tr>
            <th>Trigger Type</th>
            <th>What it does</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>A trigger channel fires</td>
            <td>Triggers a Rule when a Channel trigger fires such as is used in the Dash Button binding or
              Astro binding for astronomical events. Both the Channel and the event can be defined.</td>
          </tr>
          <tr>
            <td>An item state changes</td>
            <td>Triggers the Rule when the
              selected Item changes state. One can optionally define the previous state and new state.</td>
          </tr>
          <tr>
            <td>An item receives a command</td>
            <td>Triggers the Rule when
              the selected Item receives a command. One can optionally define the command received.</td>
          </tr>
          <tr>
            <td>An item state is updated</td>
            <td>Triggers the Rule when the
              selected Item receives an update. One can optionally define the update received.</td>
          </tr>
          <tr>
            <td>It is a fixed time of day</td>
            <td>Sets the Rule to trigger at a specific time of day every day.</td>
          </tr>
          <tr>
            <td>The rule is activated</td>
            <td>Triggers when a rule is activated the first time. This causes the Rule to trigger when it is
              first loaded by OH.</strong></td>
          </tr>
        </tbody>
      </table>
    </details>

    <section class="card border-info p-3 mb-2">
      <h5>Conditions</h5>
      <p>
        Defines the conditions under which the Rule will run when triggered.
        If you define more than one condition, all conditions have to pass.
      </p>
    </section>

    <details class="mb-4">
      <summary>Some conditions are part of the core installation</summary>
      <table class="table table-striped table-bordered" style="width: initial">
        <thead>
          <tr>
            <th>Condition Type</th>
            <th>What it does</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>An item has a given state</td>
            <td>Select the Item, comparison operator, and the value to compare against. For example,
              MyTemperature Item &gt;= (is greater or equal to) 20.</td>
          </tr>
          <tr>
            <td>A given script* evaluates to true</td>
            <td>A script to execute whose last line evaluates true or false. If the that line is true, the rule
              will be allowed to run (assuming all the other defined conditions are also true). Currently
              only JavaScript is supported. Everything available to the Action Script is available here as
              well. The Script just needs to return true or false.</td>
          </tr>
          <tr>
            <td>It is a certain day of the week</td>
            <td>Allows one to select the day of the week that it must be for the Rule to run. This combined
              with “it is a fixed time of day” allows one to write Rules that trigger at a certain time on
              certain days.</td>
          </tr>
        </tbody>
      </table>
    </details>

    <section class="card border-danger p-3 mb-2">
      <h5>Actions</h5>
      <p>
        Defines what actions the Rule takes when it runs.
        Actions are performed in the order they are listed in the <i>Rule</i>.
        Actions may have Outputs. You can connect those to Inputs of other Actions, that are executed later in the
        execution order.
      </p>
    </section>

    <details class="mb-4">
      <summary>Some actions are part of the core installation</summary>
      <table class="table table-striped table-bordered" style="width: initial">
        <thead>
          <tr>
            <th>Action Type</th>
            <th>What it does</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Send a command</td>
            <td>Allows one to send a command to an Item when the Rule runs. This can be very useful for
              creating links between proxy Items and device Items.</td>
          </tr>
          <tr>
            <td>Run rules</td>
            <td>Allows the triggering of other Rule(s) to run when this Rule triggers.</td>
          </tr>
          <tr>
            <td>Enables or disable rules</td>
            <td>Enable or disable Rule(s). This is useful to create “away
              mode” type Rule sets as they can be enabled/disabled based on events.</td>
          </tr>
          <tr>
            <td>Execute a given script*</td>
            <td>Define a <i>Script</i> to execute when the Rule runs.</td>
          </tr>
          <tr>
            <td>Play a sound</td>
            <td>Send a sound to the selected audio sink.</td>
          </tr>
          <tr>
            <td>Say something</td>
            <td>Send Text-to-speech to the selected audio sink. The text is statically defined but you can
              generate dynamic text in a script.</td>
          </tr>
        </tbody>
      </table>
    </details>

    <p>You can list, create and modify Rules on the <a href="rules.html" class="demolink">Rules</a> page.</p>

    <h4>Scripts in Rules</h4>

    <p>With <i>Rules</i>, <i>Profiles</i> and <i>Transformations</i> you can handle about 98% of your automation
      needs. Very advanced, unusual or complex scenarios might require a scripted solution though.
    </p>

    <p>A <i>Script</i> is more powerful, but also harder to edit, maintain and process for openHAB.
      Multiple programming languages are supported: Jython (Python 2.6 dialect), JavaScript, or Groovy (Java dialect).</p>
  </main>
  <footer>
    <nav-buttons class="m-4"></nav-buttons>
  </footer>
  <aside>
  </aside>
</body>

</html>
